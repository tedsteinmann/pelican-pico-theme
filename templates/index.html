{% extends "base.html" %}

{% block content %}
{% set homepage = HOMEPAGE %}
{% set call_to_action = CALL_TO_ACTION %}
    <!-- Grid Layout -->
    <div class="grid">
        <!-- Text Content -->
        <div>
            <h1><strong>{{ homepage.title or SITENAME or AUTHOR }}</strong></h1>
            {% if homepage.subtitle %}<h2 class="secondary">{{ homepage.subtitle }}</h2>{% endif %}
            {% if homepage.summary %}<p>{{ homepage.summary }}</p>{% endif %}

            <!-- Call to Action Buttons -->
            {% if call_to_action %}
            <div class="flex gap-2 mt-1" style="margin-bottom: 2rem;">
                {% for call_to_action_item in call_to_action %}
                    {% set button_class = call_to_action_item.button_class or 'secondary' %}
                    <a href="{{ call_to_action_item.url }}" role="button" class="{{ button_class }}" target="_blank" rel="noopener">{{ call_to_action_item.name }}</a>
                {% endfor %}
            </div>
            {% endif %}
            <div class="mt-1">
                <h3 class="secondary">Search this site</h3>
                <p class="secondary">BETA Natural Language search.</p>
                {% include 'nlweb_chat.html' %}
            </div>
        </div>

        <!-- Image Content -->
        <div style="display: flex; align-items: flex-end;">
            {% set portrait_image = homepage.image or SITE_IMAGE %}
            {% if portrait_image %}
            <picture>
                <source srcset="static/{{ portrait_image | replace('.webp', '-300.webp') }}" media="(max-width: 400px)" type="image/webp">
                <source srcset="static/{{ portrait_image | replace('.webp', '-600.webp') }}" media="(max-width: 800px)" type="image/webp">
                <source srcset="static/{{ portrait_image | replace('.webp', '-1200.webp') }}" media="(max-width: 1200px)" type="image/webp">
                <img src="static/{{ portrait_image }}"
                     alt="Portrait of {{ homepage.title or SITENAME or AUTHOR }}"
                     class="radius responsive-image portrait-image"
                     decoding="async"
                     fetchpriority="high"
                     title="Portrait of {{ homepage.title or SITENAME or AUTHOR }}"
                     style="display: block; max-width: 100%; height: auto; aspect-ratio: auto;">
            </picture>
            {% endif %}
        </div>
    </div>
{% endblock %}
