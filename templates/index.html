{% extends "base.html" %}

{{ SITENAME }}

{% block content %}
{#
  Homepage content is now pulled from site.yml data file via SITE_DATA
#}
{% set homepage = SITE_DATA.get('homepage', {}) %}
{% set social = SITE_DATA.get('social', []) %}
    <!-- Grid Layout -->
    <div class="grid">
        <!-- Text Content -->
        <div>
            <h1><strong>{{ homepage.title or SITE_DATA.site.title or AUTHOR }}</strong></h1>
            {% if homepage.subtitle %}<h2 class="secondary">{{ homepage.subtitle }}</h2>{% endif %}
            {% if homepage.summary %}<p>{{ homepage.summary }}</p>{% endif %}

            <!-- Social Media Buttons -->
            {% if social %}
            <div class="flex gap-2 mt-1">
                {% for social_item in social %}
                    {% set button_class = social_item.button_class or 'secondary' %}
                    <a href="{{ social_item.url }}" role="button" class="{{ button_class }}" target="_blank" rel="noopener">{{ social_item.name }}</a>
                {% endfor %}
            </div>
            {% endif %}
        </div>

        <!-- Image Content -->
        <div style="display: flex; align-items: flex-end;">
            {% set portrait_image = homepage.image or SITE_DATA.site.image %}
            {% if portrait_image %}
            <picture>
                <source srcset="static/{{ portrait_image | replace('.webp', '-300.webp') }}" media="(max-width: 400px)" type="image/webp">
                <source srcset="static/{{ portrait_image | replace('.webp', '-600.webp') }}" media="(max-width: 800px)" type="image/webp">
                <source srcset="static/{{ portrait_image | replace('.webp', '-1200.webp') }}" media="(max-width: 1200px)" type="image/webp">
                <img src="static/{{ portrait_image }}"
                     alt="Portrait of {{ homepage.title or SITE_DATA.site.title or AUTHOR }}"
                     class="radius responsive-image portrait-image"
                     decoding="async"
                     fetchpriority="high"
                     title="Portrait of {{ homepage.title or SITE_DATA.site.title or AUTHOR }}"
                     style="display: block; max-width: 100%; height: auto; aspect-ratio: auto;">
            </picture>
            {% endif %}
        </div>
    </div>
{% endblock %}
