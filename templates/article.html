{% extends "base.html" %}

{% block title %}{{ SITENAME|striptags }} - {{ article.title|striptags  }}{% endblock %}

{% block head %}
  {{ super() }}
  
  <!-- Article-specific meta tags (non-duplicate) -->
  {% if article.keywords %}
    <meta name="keywords" content="{{ article.keywords }}" />
  {% endif %}

  {% if article.summary %}
    <meta name="summary" content="{{ article.summary }}" />
  {% endif %}
{% endblock %}

{% block content %}
<article>
    <h2>{{ article.title|safe }}</h2>
    <p><small>{{ article.date.strftime("%B %d, %Y") }}</small></p>

    {% if article.authors %}
    <address>
      By {% for author in article.authors %}
        <a href="/{{ author.url }}">{{ author }}</a>
      {% endfor %}
    </address>
    {% endif %}

    {{ article.content|safe }}

    {% if article.media %}
    <p>
      <strong>ðŸ“„ Download:</strong> 
      <a href="/static/media/{{ article.media }}" download>{{ article.media }}</a>
    </p>
    {% endif %}

    <hr>
    {% if article.category %}
    <p>
      Categories: <a href="/{{ article.category.url }}">{{ article.category }}</a>
    </p>
    {% endif %}
    
    {% if article.tags %}
    <p>
      Tags:
      {% for tag in article.tags %}
        <a href="/{{ tag.url }}">{{ tag }}</a>{% if not loop.last %}, {% endif %}
      {% endfor %}
    </p>
    {% endif %}
</article>
{% endblock %}
